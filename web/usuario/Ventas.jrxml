<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="report name" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="802" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="feeedb0e-75d4-43fb-bb74-09e474f3cb68">
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="f1" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="f2" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="search" class="java.lang.String">
		<defaultValueExpression><![CDATA[]]></defaultValueExpression>
	</parameter>
	<parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
		<defaultValueExpression><![CDATA["C:\\Users\\gateway1\\Documents\\NetBeansProjects\\Venta\\web\\usuario\\"]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[select distinct p.pedido as 'pedido',convert(date,fechapedido) as 'fecha',convert(date,fechaentrega) as 'fechae',nombrecliente,telefono,totalpares,importe,iva,total 
from pedidos p join DPedidos dp on dp.clave_pedido=p.clave_pedido 
join Productos prod on dp.producto=prod.producto join Combinaciones c on dp.combinacion = c.combinacion where (dp.estilo like '%$P!{search}%' or c.descripcion like '%$P!{search}%' or  p.pedido like '%$P!{search}%' or p.nombrecliente like '%$P!{search}%') and convert(date,fechapedido) between $P{f1} and $P{f2} order by pedido DESC]]>
	</queryString>
	<field name="pedido" class="java.lang.Integer"/>
	<field name="fecha" class="java.lang.String"/>
	<field name="fechae" class="java.lang.String"/>
	<field name="nombrecliente" class="java.lang.String"/>
	<field name="telefono" class="java.lang.String"/>
	<field name="totalpares" class="java.lang.Integer"/>
	<field name="importe" class="java.math.BigDecimal"/>
	<field name="iva" class="java.math.BigDecimal"/>
	<field name="total" class="java.math.BigDecimal"/>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="53" splitType="Stretch">
			<textField pattern="dd/MM/yyyy HH.mm.ss">
				<reportElement x="699" y="0" width="100" height="20" uuid="b3cb5f70-93cf-42d6-aa06-f21bbbb77769"/>
				<textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<detail>
		<band height="142" splitType="Stretch">
			<subreport>
				<reportElement x="0" y="40" width="802" height="55" uuid="6443c662-d7b7-4910-ac51-69d6c242eee4"/>
				<subreportParameter name="search">
					<subreportParameterExpression><![CDATA[$P{search}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="f1">
					<subreportParameterExpression><![CDATA[$P{f1}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="f2">
					<subreportParameterExpression><![CDATA[$P{f2}]]></subreportParameterExpression>
				</subreportParameter>
				<subreportParameter name="pedido">
					<subreportParameterExpression><![CDATA[$F{pedido}]]></subreportParameterExpression>
				</subreportParameter>
				<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
				<subreportExpression><![CDATA[$P{SUBREPORT_DIR} + "Detalleventa.jasper"]]></subreportExpression>
			</subreport>
			<staticText>
				<reportElement x="0" y="0" width="72" height="20" uuid="33290fb4-1587-42d8-945b-739495a0391a"/>
				<text><![CDATA[Fecha Pedido: ]]></text>
			</staticText>
			<textField>
				<reportElement x="72" y="0" width="73" height="20" uuid="ba65b715-30f7-4b71-b6ca-9edc814d833c"/>
				<textFieldExpression><![CDATA[$F{fecha}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="97" y="20" width="189" height="20" uuid="4c278469-e74c-4704-9ac1-dc59a0e3e131"/>
				<textFieldExpression><![CDATA[$F{nombrecliente}]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement x="306" y="20" width="100" height="20" uuid="511d405f-e392-4d5b-9efd-0a1a0fceb563"/>
				<textFieldExpression><![CDATA[$F{telefono}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="157" y="0" width="80" height="20" uuid="02af1a41-33fc-4f2c-9b70-492494fbc5d1"/>
				<text><![CDATA[Fecha Entrega]]></text>
			</staticText>
			<textField>
				<reportElement x="237" y="0" width="62" height="20" uuid="6a84c1dd-fe74-4874-a74d-a184cc95c520"/>
				<textFieldExpression><![CDATA[$F{fechae}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="0" y="20" width="80" height="20" uuid="858999b9-c587-48f2-b12d-646f432e179a"/>
				<text><![CDATA[Nombre cliente]]></text>
			</staticText>
			<staticText>
				<reportElement x="668" y="0" width="42" height="20" uuid="ea384aa2-8fe7-46c2-81f0-7351ae668444"/>
				<text><![CDATA[pedido]]></text>
			</staticText>
			<textField>
				<reportElement x="710" y="0" width="89" height="20" uuid="66e7bede-0f23-4d56-a8d5-3583f46dfe9c"/>
				<textFieldExpression><![CDATA[$F{pedido}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<pageFooter>
		<band height="20" splitType="Stretch">
			<textField>
				<reportElement x="352" y="0" width="80" height="17" uuid="72d76cab-de82-4745-a1db-ee8508d15107"/>
				<textElement textAlignment="Center" verticalAlignment="Top"/>
				<textFieldExpression><![CDATA["Page "+$V{PAGE_NUMBER}+" of"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="432" y="0" width="40" height="17" uuid="d1a39b2d-ace8-463a-9068-e16ea21a57f6"/>
				<textElement textAlignment="Center" verticalAlignment="Top"/>
				<textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
		</band>
	</pageFooter>
	<summary>
		<band height="4" splitType="Stretch"/>
	</summary>
</jasperReport>
